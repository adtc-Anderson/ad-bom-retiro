<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>ADTC Bom Retiro | Assembleia de Deus</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Fonte -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

<!-- QRCode -->
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>

<style>
:root {
  --cor-primaria: #0b3c5d;
  --cor-secundaria: #1c6ea4;
  --cor-destaque: #c9a24d;
  --cor-fundo: #f4f6f8;
}

body {
  margin: 0;
  font-family: 'Montserrat', Arial, sans-serif;
  background: var(--cor-fundo);
  color: #333;
}

/* HEADER */
header {
  background: linear-gradient(135deg, var(--cor-primaria), var(--cor-secundaria));
  color: #fff;
  text-align: center;
  padding: 35px 20px;
}

header img {
  width: 110px;
  margin-bottom: 10px;
}

header h1 {
  margin: 5px 0;
  font-size: 2.1em;
}

header p {
  margin: 0;
  font-size: 1.1em;
}

/* MENU */
nav {
  background: var(--cor-primaria);
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
}

nav a {
  color: #fff;
  padding: 14px 20px;
  text-decoration: none;
  font-weight: 600;
}

nav a:hover {
  background: var(--cor-secundaria);
}

/* CONTE√öDO */
.container {
  max-width: 1100px;
  margin: auto;
  padding: 30px 20px;
}

.card {
  background: #fff;
  border-radius: 10px;
  padding: 25px;
  margin-bottom: 25px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.08);
}

.card h2 {
  color: var(--cor-primaria);
  margin-top: 0;
}

/* PIX */
input[type=text] {
  padding: 14px;
  font-size: 22px;
  width: 280px;
  max-width: 100%;
  text-align: center;
  border-radius: 6px;
  border: 1px solid #ccc;
}

button {
  padding: 14px;
  background: var(--cor-primaria);
  color: #fff;
  border: none;
  border-radius: 6px;
  font-size: 18px;
  cursor: pointer;
  width: 280px;
  max-width: 100%;
}

button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* WHATSAPP */
.whatsapp {
  position: fixed;
  right: 20px;
  bottom: 20px;
  background: #25d366;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
  z-index: 1000;
  text-decoration: none;
}

.whatsapp:hover {
  background: #1ebe5d;
}

/* FOOTER */
footer {
  background: var(--cor-primaria);
  color: #fff;
  text-align: center;
  padding: 20px;
  font-size: 0.9em;
}

/* =========================
   MOBILE AJUSTES
   ========================= */
@media (max-width: 768px) {

  header img {
    width: 90px;
  }

  header h1 {
    font-size: 1.7em;
  }

  nav a {
    padding: 12px 14px;
    font-size: 15px;
  }

  .container {
    padding: 20px 12px;
  }

  .card h2 {
    text-align: center;
    font-size: 1.3em;
  }

  #pix p {
    text-align: center;
  }

  iframe {
    height: 260px;
  }

  canvas#qrcode {
    width: 100% !important;
    max-width: 260px;
    height: auto !important;
  }

}

button {
  transition: background 0.2s ease, transform 0.1s ease;
}

button:active {
  transform: scale(0.98);
}


.nav {
  background: var(--cor-primaria);
  position: relative;
}

/* bot√£o hamb√∫rguer */
.nav-toggle {
  display: none;
  background: none;
  border: none;
  color: #fff;
  font-size: 26px;
  padding: 14px 20px;
  cursor: pointer;
}

/* container dos links */
.nav-links {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
}

/* MOBILE */
@media (max-width: 768px) {

  .nav {
    display: block;
  }

  .nav-toggle {
    display: block;
    width: 100%;
    text-align: right;
  }

  .nav-links {
    display: none;
    flex-direction: column;
    background: var(--cor-primaria);
    width: 100%;
  }

  .nav-links.show {
    display: flex;
  }

  .nav-links a {
    padding: 16px;
    text-align: center;
    border-top: 1px solid rgba(255,255,255,0.15);
  }
}


</style>
</head>

<body>

<!-- HEADER -->
<header>
  <img src="img/logoA.png" alt="ADTC Bom Retiro">
  <h1>ADTC Bom Retiro</h1>
  <p>Assembleia de Deus ‚Äì Pacatuba / CE</p>
</header>

<!-- MENU -->
<nav class="nav">
  <button class="nav-toggle" onclick="toggleMenu()">‚ò∞</button>

  <div class="nav-links" id="navLinks">
    <a href="#sobre" onclick="fecharMenu()">Sobre</a>
    <a href="#cultos" onclick="fecharMenu()">Cultos</a>
    <a href="#pix" onclick="fecharMenu()">D√≠zimos & Ofertas</a>
    <a href="#local" onclick="fecharMenu()">Localiza√ß√£o</a>
  </div>
</nav>

<div class="container">

  <div class="card" id="sobre" style="text-align:center;">
    <h2>üìñ Sobre a Igreja</h2>
    <p>
      A ADTC Bom Retiro √© uma igreja crist√£ comprometida com a prega√ß√£o do
      Evangelho de Jesus Cristo, a comunh√£o dos irm√£os e o servi√ßo ao pr√≥ximo.
    </p>
  </div>

  <div class="card" id="cultos">

    <div style="text-align:center;">
     <h2>‚è∞ Hor√°rios de Culto</h2>
    </div>
    
    <ul>
      <li><strong>Domingo:</strong> 18:00</li>
      <li><strong>Quinta-feira:</strong> 19:00</li>
    </ul>

  </div>

  <div class="card" id="pix">

    <div style="text-align:center;">


      <h2>üí≥ D√≠zimos & Ofertas (PIX)</h2>

      <p><strong>Chave PIX:</strong> 85986498687</p>
      <p><strong>Recebedor:</strong> Giselle Farias Medeiros</p>

      <label><strong>Valor (R$)</strong></label><br><br>

      <input
        type="text"
        id="valorPix"
        placeholder="Ex: 50,00"
        inputmode="numeric"
        pattern="[0-9]*"
        maxlength="10"
        oninput="formatarValor(this)"
      >

      <p id="valorResumo"
        style="margin-top:12px;font-weight:700;font-size:18px;text-align:center;color:#0b3c5d;">
      </p>

    
      <button id="btnPix" onclick="gerarPix()" disabled>
        Gerar QR Code PIX
      </button>

    </div>

    <div style="display:flex; justify-content:center; margin-top:25px;">
      <canvas id="qrcode"></canvas>
    </div>

    <div style="text-align:center; margin-top:10px;">
      <button id="btnCopiarPix" onclick="copiarPix()" disabled>
        üìã Copiar c√≥digo PIX
      </button>
    </div>

    <p id="msgCopiado"
      style="text-align:center;margin-top:8px;color:green;font-weight:600;display:none;">
      ‚úÖ C√≥digo PIX copiado!
    </p>

    <p style="font-size:13px; text-align:center; color:#555;">
      üîí Confira no app do banco se o recebedor √©
      <strong>Giselle Farias Medeiros</strong>.
    </p>

    <p style="font-style:italic; text-align:center;">
      ‚ÄúCada um contribua segundo prop√¥s no cora√ß√£o.‚Äù ‚Äì 2Co 9:7
    </p>
  </div>

  <div class="card" id="local" style="text-align:center;">
    <h2>üìç Localiza√ß√£o</h2>

    <iframe
    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3957.7367738137917!2d-38.554528!3d-3.8698647!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x7c7517232d23c47%3A0x6c973756dbaefd97!2sADTC%20Bom%20Retiro!5e0!3m2!1spt-BR!2sbr"
    width="100%" height="300"
    style="border:0;"
    allowfullscreen=""
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade">
    </iframe>

    <div style="text-align:center; margin-top:10px;">
      <a href="https://maps.app.goo.gl/G8F1xRtvsmLEkVLEA"
         target="_blank"
         style="color:#1c6ea4;font-weight:600;text-decoration:none;">
        üìç Abrir no Google Maps
      </a>
    </div>
  </div>

</div>

<a class="whatsapp"
   href="https://wa.me/5585986498687"
   target="_blank"
   title="Fale conosco no WhatsApp"
   aria-label="WhatsApp">
  <svg xmlns="http://www.w3.org/2000/svg"
       viewBox="0 0 32 32"
       width="26" height="26"
       fill="white">
    <path d="M19.11 17.53c-.27-.14-1.58-.78-1.83-.87-.25-.09-.43-.14-.61.14-.18.27-.7.87-.86 1.05-.16.18-.32.2-.59.07-.27-.14-1.14-.42-2.17-1.34-.8-.71-1.34-1.58-1.5-1.85-.16-.27-.02-.42.12-.56.12-.12.27-.32.41-.48.14-.16.18-.27.27-.45.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.54-.45-.47-.61-.48-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.29 0 1.35.99 2.66 1.13 2.84.14.18 1.95 2.98 4.73 4.18.66.28 1.18.45 1.58.58.66.21 1.26.18 1.73.11.53-.08 1.58-.65 1.8-1.28.22-.63.22-1.17.16-1.28-.07-.11-.25-.18-.52-.32z"/>
    <path d="M16 2.67C8.83 2.67 3 8.5 3 15.67c0 2.76.73 5.35 2.12 7.61L3 29l5.87-2.04c2.19 1.19 4.7 1.82 7.13 1.82 7.17 0 13-5.83 13-13S23.17 2.67 16 2.67zm0 23.13c-2.27 0-4.5-.61-6.44-1.76l-.46-.27-3.48 1.21 1.13-3.38-.3-.48c-1.3-2.04-1.99-4.4-1.99-6.79 0-6.98 5.68-12.67 12.67-12.67S28.67 8.35 28.67 15.33 22.98 28 16 28z"/>
  </svg>
</a>

<footer>
  ADTC Bom Retiro ‚Äì Assembleia de Deus<br>
  Desenvolvido por Anderson Maia<br>
  <small>¬© 2026 ‚Äì Vers√£o 1.0</small>
</footer>

<script>
  let payloadPixGerado = '';
  
  function formatarValor(campo) {
    let v = campo.value.replace(/\D/g, '');
    v = (v / 100).toFixed(2).replace('.', ',');
    campo.value = v;

    const valorNum = parseFloat(v.replace(',', '.'));
    const btnGerar = document.getElementById('btnPix');

    if (valorNum >= 1) {
      btnGerar.disabled = false;
      document.getElementById('valorResumo').innerText =
        'Valor informado: R$ ' + v;
    } else {
      btnGerar.disabled = true;
      document.getElementById('valorResumo').innerText = '';

      // üî• valor inv√°lido ‚Üí limpa tudo
      limparPix();
    }
  }

  function toggleMenu() {
    document.getElementById('navLinks').classList.toggle('show');
  }

  function fecharMenu() {
    document.getElementById('navLinks').classList.remove('show');
  }

  function crc16(payload) {
    let crc = 0xFFFF;
    for (let i = 0; i < payload.length; i++) {
      crc ^= payload.charCodeAt(i) << 8;
      for (let j = 0; j < 8; j++) {
        crc = (crc & 0x8000) ? (crc << 1) ^ 0x1021 : (crc << 1);
        crc &= 0xFFFF;
      }
    }
    return crc.toString(16).toUpperCase().padStart(4, '0');
  }

  function gerarPix() {

    // üîí Sempre limpa antes de gerar (evita QR antigo)
    limparPix();

    const valor = parseFloat(
      document.getElementById('valorPix').value.replace(',', '.')
    );

    // prote√ß√£o contra valor inv√°lido
    if (!valor || valor < 1) {
      return;
    }

    const valorFormatado = valor.toFixed(2);

    const chavePix = "+5585986498687";
    const nome = "GISELLE FARIAS MEDEIROS";
    const cidade = "PACATUBA";

    let payload =
      "000201" +
      "2636" +
        "0014BR.GOV.BCB.PIX" +
        "01" + chavePix.length.toString().padStart(2,'0') + chavePix +
      "52040000" +
      "5303986" +
      "54" + valorFormatado.length.toString().padStart(2,'0') + valorFormatado +
      "5802BR" +
      "59" + nome.length.toString().padStart(2,'0') + nome +
      "60" + cidade.length.toString().padStart(2,'0') + cidade +
      "6304";

    // calcula CRC
    payload += crc16(payload);

    // üî• salva o PIX v√°lido
    payloadPixGerado = payload;

    // habilita copiar SOMENTE aqui
    document.getElementById('btnCopiarPix').disabled = false;

    // gera QR Code
    QRCode.toCanvas(
      document.getElementById('qrcode'),
      payload,
      { width: 240 }
    );
  }

  function limparPix() {
    payloadPixGerado = '';

    // limpa canvas do QR
    const canvas = document.getElementById('qrcode');
    if (canvas) {
      const ctx = canvas.getContext('2d');
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    // desabilita copiar
    document.getElementById('btnCopiarPix').disabled = true;
  }

  function copiarPix() {

    // üîí prote√ß√£o: PIX ainda n√£o gerado
    if (!payloadPixGerado || payloadPixGerado.length < 20) {
      alert('‚ö†Ô∏è Gere o QR Code com um valor v√°lido antes de copiar.');
      return;
    }

    // üîí prote√ß√£o extra: valida valor novamente
    const valorCampo = document.getElementById('valorPix').value;
    const valorNum = parseFloat(valorCampo.replace(',', '.'));

    if (!valorNum || valorNum < 1) {
      alert('‚ö†Ô∏è Valor inv√°lido para copiar o PIX.');
      return;
    }

    navigator.clipboard.writeText(payloadPixGerado).then(() => {
      const msg = document.getElementById('msgCopiado');
      msg.style.display = 'block';

      setTimeout(() => {
        msg.style.display = 'none';
      }, 2500);
    });
  }

</script>

</body>
</html>